{% extends "base.html" %}
{% block content %}
    <div class="d-flex justify-content-center">
        <h1>REPORTE 1</h1>
    </div>
    <h2>
        Reporte de servicios realizados
    </h1>
    <h4>Por estado del servicio: Completado, cancelado, reprogramado</h4>
    <form method="POST" class="p-4 border rounded shadow-sm bg-light">
        <div class="row">
            <div class="col">
                <label class ="form-label fw-bold text-uppercase" for="estado">Estado</label>
                <select class="form-control " name="estado">
                    <option value="todos">Todos</option>
                    <option value="completado">Completado</option>
                    <option value="cancelado">Cancelado</option>
                    <option value="reprogramado">Reprogramado</option>
                </select>
            </div>
        </div>
        <br>
        <div class="d-grid">
            <button type="submit" class="btn btn-success">Generar reporte</button>
        </div>
    </form>
    {% if data %}
        <br />
        <h3 class="text-center text-uppercase">INFORMACIóN OBTENIDA</h3>
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
                <tr>
                    <th>ID SERVICIO</th>
                    <th>HORARIO</th>
                    <th>DETALLE</th>
                    <th>PRECIO</th>
                    <th>TIPO</th>
                    <th>ESTADO</th>
                    <th>PLACA VEHíCULO</th>
                    <th>DESCUENTO DE PAQUETE</th>
                    <th>DESCUENTO DE PROMOCIóN</th>
                    <th>PRECIO CON DESCUENTO PAGADO/POR PAGAR</th>
                </tr>
            </thead>
            <tbody>
                {% for row in data %}
                    <tr>
                        <td>{{ row.id_servicio }}</td>
                        <td>{{ row.horario }}</td>
                        <td>{{ row.detalle }} Bs.</td>
                        <td>{{ row.precio }}</td>
                        <td>{{ row.tipo }}</td>
                        <td>{{ row.estado }}</td>
                        <td>{{ row.placa_vehiculo }}</td>
                        <td>{{ row.descuento_paquete }} %</td>
                        <td>{{ row.descuento_promocion }} %</td>
                        <td>{{ row.precio_con_descuento }} Bs.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock content %}
